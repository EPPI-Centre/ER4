<div>
    <div class="row m-1 p-0">
        <button (click)="fetchCrossTabs(selectedNodeDataX, selectedNodeDataY, selectedFilterAttribute?.attribute_id)"
                class="btn-lg btn-info mb-lg-2">
            Get CrossTabs
        </button>
        <span> &nbsp; Current code: {{reviewSetsService.selectedNode?.name}}</span>
    </div>


    <div class="row m-1 p-0">
        <div style="width:200px;"><span class="font-weight-bold mt-1">Selected X-Axis Code: &nbsp;</span></div>
        <div class="col-4 border"><b [className]="selectedNodeDataX != null ? 'somekindofBackground' : ''">{{selectedNodeDataX?.name}}&nbsp;</b></div>
        <div class="col-4">
            <button (click)="setXaxis()" [disabled]="!canSetCode()" class="btn btn-primary btn-sm">Set</button>&nbsp;
        </div>
    </div>
    <div class="row m-1 p-0">
        <div style="width:200px;"><span class="font-weight-bold mt-1">Selected Y-Axis Code: &nbsp;</span></div>
        <div class="col-4 border"><b [className]="selectedNodeDataY != null ? 'somekindofBackground' : ''">{{selectedNodeDataY?.name}}&nbsp;</b></div>
        <div class="col-4">
            <button (click)="setYaxis()" [disabled]="!canSetCode()" class="btn btn-primary btn-sm">Set</button>&nbsp;
        </div>
    </div>
    <div class="row m-1 p-0">
        <div style="width:200px;"><span class="font-weight-bold mt-1">Selected Filter: &nbsp;</span></div>
        <div class="col-4 border"><b [className]="chosenFilter != null ? 'somekindofBackground' : ''">{{selectedFilterAttribute?.name}}&nbsp;</b></div>
        <div class="col-4">
            <button (click)="setFilter()" [disabled]="!canSetFilter()" class="btn btn-primary btn-sm"> Set Filter</button>&nbsp;
            <button (click)="clearFilter()" class="btn btn-outline-info btn-sm"> Clear Filter</button>
        </div>

    </div>

    <div class="row col-md-12">
        <table class="table-striped table table-light card-body">
            <tbody>
                <tr>
                    <td>
                        <b>Get frequencies for</b>
                    </td>
                    <td>
                        <input type="radio" value="true" name="IncludeOrExclude" [(ngModel)]="crosstbIncEx"> <b>&nbsp;Included</b>
                    </td>
                    <td>
                        <input type="radio" value="false" name="IncludeOrExclude" [(ngModel)]="crosstbIncEx"><b>&nbsp; Excluded</b>
                    </td>
                    <td colspan="1"> <b class="align-self-end">&nbsp; Items</b></td>
                </tr>
                <tr>
                    <td>
                        <b>Show results as:</b>
                    </td>
                    <td>
                        <input type="radio" value="table" name="FreqShowWhatN" [(ngModel)]="crosstbShowWhat"><b>&nbsp;Table</b>
                    </td>
                    <td>
                        <input type="radio" value="pie" disabled name="FreqShowWhatN" [(ngModel)]="crosstbShowWhat"><b>&nbsp;Pie chart</b>
                    </td>
                    <td>
                        <input type="radio" value="bar" disabled name="FreqShowWhatN" [(ngModel)]="crosstbShowWhat"><b>&nbsp;Bar chart</b>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="row col-md-12">
        <div class="card-body bg-light col-md-8">
            <div class="row contentCT col-md-12">
                <table class="table table-striped table-bordered table-condensed mb-2 w-75 table-fit">
                    <thead>
                        <tr>
                            <td> &nbsp;</td>
                            <td class="font-weight-bold" *ngFor="let item of crosstabService.CrossTab.xHeaders">
                                {{item}}
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let subitem of crosstabService.CrossTab.yRows">
                            <td>{{subitem.attributeName}}</td>
                            <td *ngFor="let name of crosstabService.fieldNames">
                                <b (click)="CrossTabItemsList(crosstabService.CrossTab, subitem.attributeId, name)"
                                   class="btn btn-link border-0 pt-0 pb-1 pl-1 font-weight-bold">
                                    {{subitem[name]}}
                                </b>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
