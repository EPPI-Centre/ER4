<div class="container-fluid " resizable>
    <HeaderComponent></HeaderComponent>
    
    <div class="mt-1 ">
        <kendo-splitter orientation="horizontal">
            <kendo-splitter-pane [collapsible]="false" class="">
                <ngb-tabset (tabChange)="setTabSelected($event)" #tabset="ngbTabset" [destroyOnHide]="false" type="pills">
                    <ngb-tab id="ReviewHomeTab" class="mt-1">
                        <ng-template ngbTabTitle><b>Review</b> home</ng-template>
                        <ng-template ngbTabContent>
                            <div class="row m-1">
                                <div class="col-md-7 p-0 pr-1">
                                    <reviewStatisticsComp (tabSelectEvent)="alertT()" (tabSelectEventf)="alertT()"></reviewStatisticsComp>
                                </div>
                                <div class="col-md-5 p-0">
                                    <div class="card card-body bg-light ">
                                        {{MyInfoMessage()}}
                                    </div>
                                    <div class="card card-body ReviewsBg  mt-2 ">
                                        <div>
                                            <button type="button" class="btn btn-outline-primary" (click)="toggleReviewPanel()"
                                                    [attr.aria-expanded]="!isReviewPanelCollapsed">
                                                My Reviews <span [innerHTML]="ReviewPanelTogglingSymbol"></span>
                                            </button>
                                        </div>
                                        <readonlyreviews id="readOnlyReviews" [ngbCollapse]="!isReviewPanelCollapsed" class="mt-1"
                                                         style="max-height: 520px;"></readonlyreviews>

                                    </div>
                                    <div class="card card-body ReviewsBg  mt-2 ">
                                        <div>
                                            <button type="button" class="btn btn-outline-primary" (click)="toggleWorkAllocationsPanel()"
                                                    [attr.aria-expanded]="!isWorkAllocationsPanelCollapsed">
                                                My Work <span [innerHTML]="WorkAllocationsPanelTogglingSymbol"></span>
                                            </button>
                                        </div>
                                        <WorkAllocationContactListComp #WorkAllocationContactList (criteriaChange)='LoadWorkAllocList($event)'
                                                                       (AllocationClicked)="GoToItemList()"
                                                                       [ngbCollapse]="!isWorkAllocationsPanelCollapsed"
                                                                       resizable r-directions="['right']" r-flex="true"
                                                                       class="mt-2"
                                                                       Context="FullUI"
                                                                       style="max-height: 420px;"></WorkAllocationContactListComp>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                    <ngb-tab id="ItemListTab" title="Items">
                        <ng-template ngbTabContent>
                            <div class=" card bg-primary">
                                <h5>Icons for various functions here... (see ER4) ITEMS</h5>
                            </div>
                            <div class="card card-body bg-light">
                                <ItemListComp #ItemList Context="FullUI" resizable r-directions="['right']" r-flex="true"></ItemListComp>
                            </div>
                        </ng-template>
                    </ngb-tab>
                    <ngb-tab id="FrequenciesTab" title="Frequencies">
                        <ng-template ngbTabContent>
                            <frequencies></frequencies>
                        </ng-template>
                    </ngb-tab>
                    <ngb-tab id="CrossTabsTab" (click)="testing($event)" title="CrossTabs">
                        <ng-template ngbTabContent>
                            <div>
                                <button (click)="fetchCrossTabs(selectedNodeDataX, selectedNodeDataY, selectedAttributeSetX?.attribute_id)" class="btn-lg btn-info mb-lg-2">Get CrossTabs</button>

                                <div class="row col-md-12">
                                    <table class="table-striped table table-light col-md-8 card-body">
                                        <thead>
                                            <tr>
                                                <th>Both Sets Documents</th>
                                                <th>Included Documents</th>
                                                <th>Excluded Documents</th>
                                            </tr>

                                        </thead>
                                        <tbody>
                                            <!--[checked]="idx === 0"-->
                                            <tr>
                                                <td>
                                                    <input type="radio" name="mode"
                                                           (ngModelChange)="changeRadioValue()"
                                                           [(ngModel)]="radioData"
                                                           [value]="true">
                                                </td>
                                                <td>
                                                    <input type="radio" name="mode"
                                                           (ngModelChange)="changeRadioValue()"
                                                           [(ngModel)]="radioData"
                                                           [value]="true">
                                                </td>
                                                <td>
                                                    <input type="radio" name="mode"
                                                           [(ngModel)]="radioData"
                                                           [value]="false">
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="col-md-4 card-body bg-light">
                                        <button (click)="setXaxis()" class="font-weight-bold btn btn-primary col-md-6">Set X-Axis Codeset: &nbsp;&nbsp;</button>
                                        <b>&nbsp;{{selectedNodeDataX?.name}}</b>
                                        <button (click)="setYaxis()" class="font-weight-bold btn btn-info col-md-6">Set Y-Axis Codeset: &nbsp;&nbsp;</button>
                                        <b>&nbsp;{{selectedNodeDataY?.name}}</b>
                                    </div>
                                </div>
                                <div class="row col-md-12">
                                    <table class="table-striped table table-light col-md-8 card-body">
                                        <thead>
                                            <tr>
                                                <th>Show Table</th>
                                                <th>Show pie chart</th>
                                                <th>Show bar chart</th>
                                                <th>Show the 'none of the above' category (charts)</th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                            <tr>
                                                <td>
                                                    <input type="radio" name="radioShowTable"
                                                           [checked]="idx === 0"
                                                           [value]="test2">
                                                </td>
                                                <td>
                                                    <input type="radio" name="radioShowPieChart"
                                                           [checked]="idx === 0"
                                                           [value]="test1">
                                                </td>
                                                <td>
                                                    <input type="radio" name="radioShowBarChart"
                                                           [checked]="idx === 1"
                                                           [value]="test2">
                                                </td>
                                                <td>
                                                    <input type="radio" name="radioCharts"
                                                           [checked]="idx === 1"
                                                           [value]="test2">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="col-md-4 table-striped table table-light card-body">
                                        <div class="col-md-12 card-body bg-light">
                                            <span class="font-weight-bold col-md-12">Selected Filter Attribute: &nbsp;</span>
                                            <b class="col-md-12" [className]="selectedAttributeSetX != null ? 'btn-warning' : ''">{{selectedAttributeSetX?.name}}&nbsp;</b>
                                            <div class="col-md-12 ml-auto"></div>
                                            <button (click)="setXFilter()" class="font-weight-bold btn btn-primary col-md-6 ml-auto">Set Filter&nbsp;&nbsp;</button>
                                            <button (click)="clearXFilter()" class="font-weight-bold btn btn-dark col-md-6"> Clear Filter</button>
                                        </div>
                                    </div>

                                    <div class="card-body bg-light col-md-8">
                                        <crosstab></crosstab>
                                    </div>
                                    <!--<div class="card bg-light table-dark col-md-4">
                                        <codesets></codesets>
                                    </div>-->
                                </div>

                            </div>
                        </ng-template>
                    </ngb-tab>
                    <ngb-tab id="SearchListTab" title="Search">
                        <ng-template ngbTabContent>
                            <div class="row card bg-primary border-dark m-0">
                                <!--<h5>Icons for various functions here... (see ER4) Search Component Icons</h5>-->
                                <table>
                                    <tr>

                                        <td class="btn  text-white bg-primary" (click)="openNewSearchModal()"><i class="fa fa-search" aria-hidden="true"></i> New Search</td>
                                        <td class="btn  text-white bg-primary" (click)="test()"><i class="fa fa-refresh" aria-hidden="true"></i> Refresh Search</td>
                                        <td class="btn text-white bg-primary" (click)="test()"><i class="fa fa-trash RedIcon" aria-hidden="true"></i> Delete Search</td>
                                        <td class="btn  text-white bg-primary" (click)="test()"><img height="16" width="16" title="tester" src="../assets/SearchCombine.png" />Combine</td>
                                        <td class="btn  text-white bg-primary">
                                            <input type="radio" value="AND" name="t" [(ngModel)]="search"><b>&nbsp; AND </b>
                                        </td>
                                        <td class="btn  text-white bg-primary">
                                            <input type="radio" value="OR" name="t" [(ngModel)]="search"><b>&nbsp; OR </b>
                                        </td>
                                        <td class="btn text-white bg-primary">
                                            <input type="radio" value="NOT" name="t" [(ngModel)]="search"><b>&nbsp; NOT</b>
                                        </td>
                                        <td class="btn text-white bg-primary">
                                            <input type="radio" value="NOTR" name="t" [(ngModel)]="search"><b>&nbsp; NOT (excluded)</b>
                                        </td>
                                    </tr>
                                </table>

                            </div>
                            <div class="row m-0">
                                <div class="card card-body bg-light col-md-8">
                                    <SearchComp resizable r-directions="['right']" r-flex="true"></SearchComp>
                                </div>
                                <!--<div class="bg-light table-dark col-md-4">
                                    <codesets></codesets>
                                </div>-->
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </kendo-splitter-pane>
            <kendo-splitter-pane [collapsible]="true" size="30%" class="bg-light">
                <codesets></codesets>
            </kendo-splitter-pane>
        </kendo-splitter>
        <statusbar class="col-sm-12 card-body pb-0" resizable></statusbar>
    </div>
</div>

