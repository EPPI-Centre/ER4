<div class="card container-fluid mt-1 bg-light  m-1 p-1 border border-primary m-2 p-2">
	<button class="btn btn-dark pull-right col-md-2" 
			(click)="BackToMain()">
		Close/back
	</button>
	<form class="row card m-3 p-3">
		<div class="col-12 card-body bg-light "
			  style="max-height:600px; overflow:scroll;"  >
			<h3>Comparison Reconciliation</h3>
			<table class="card-body col-12 table table-bordered table-striped" *ngIf="localList.Items">
				<thead>	
					<tr>
						<th>Completed</th>
						<th> ITEM ID</th>
						<th> Short Title</th>
						<th>{{CurrentComparison.contactName1}}</th>
						<th>{{CurrentComparison.contactName2}}</th>
						<th *ngIf="CurrentComparison.contactName3 != ''">{{CurrentComparison.contactName3}}</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let recon of localList.Items; let i = index" (click)="ReconRowClick(recon.Item.itemId)">
						<td > <input type="checkbox" name="name1" [checked]="recon.IsCompleted" [disabled]="true" />&nbsp; </td>
						<td >{{_ItemListService.ItemList.items[i].itemId}}</td>
						<td >
							{{recon.Item.shortTitle}}

							<span *ngIf="recon.IsCompleted">
								<button (click)="UnComplete(recon)" class="btn btn-danger pull-right">
									Un-Complete
								</button>
							</span>
						</td>
						<td>
							<span *ngIf="!recon.IsCompleted">
								<button (click)="Complete(recon, CurrentComparison.contactId1)"
										class="btn btn-success  pull-right">
									Complete
								</button>
							</span>
							<span *ngFor="let j of reconcilingCodeArrayLength(recon.CodesReviewer1.length)">
								<br />
								<button class="btn btn-outline-primary" *ngIf="recon.CodesReviewer1[j-1].ArmID == 0">
									{{recon.CodesReviewer1[j-1].Name}}
								</button>
							</span>
							<br />
							<span *ngIf="_ItemListService.ItemList.items[i].arms != 'undefined' && _ItemListService.ItemList.items[i].arms.length > 0 ">
								<span *ngFor="let a of _ItemListService.ItemList.items[i].arms">
									<b>{{a.title}}</b>

									<span *ngFor="let j of reconcilingCodeArrayLength(recon.CodesReviewer1.length)">
										<span class="row" *ngIf="recon.CodesReviewer1[j-1].ArmID != 0">
											<span [hidden]="!hideme[j]">
												<span *ngFor="let item of getReconSplitArray(recon.CodesReviewer1[j-1].Fullpath)">
													{{item}}
													<i class="fa fa-arrow-right"
													   aria-hidden="true">
													</i>
												</span>
												<br />
											</span>
											<button class="btn btn-outline-primary" (click)="hideme[j] = !hideme[j]">
												{{recon.CodesReviewer1[j-1].Name}}
											</button>
											<br />
										</span>
									</span>
								</span>
							</span>
						</td>
						<td>
							<span *ngIf="!recon.IsCompleted">
								<button (click)="Complete(recon,CurrentComparison.contactId2)" class="btn btn-success  pull-right">
									Complete
								</button>
							</span>
							<span *ngFor="let k of reconcilingCodeArrayLength(recon.CodesReviewer2.length)">
								<br />
								<button *ngIf="recon.CodesReviewer2[k-1].ArmID == 0" class="btn btn-outline-info">
									{{recon.CodesReviewer2[k-1].Name}}
								</button>
							</span>
							<br />
							<span *ngIf="_ItemListService.ItemList.items[i].arms != 'undefined' && _ItemListService.ItemList.items[i].arms.length > 0 ">
								<span *ngFor="let b of _ItemListService.ItemList.items[i].arms">
									<b>{{b.title}}</b>

									<span *ngFor="let k of reconcilingCodeArrayLength(recon.CodesReviewer2.length)">
										<span class="row"  *ngIf="recon.CodesReviewer2[k-1].ArmID != 0">
											<span [hidden]="!hideme[k]">
												<span *ngFor="let item of getReconSplitArray(recon.CodesReviewer2[k-1].Fullpath)">
													{{item}}
													<i class="fa fa-arrow-right"
													   aria-hidden="true">
													</i>
												</span>
												<br />
											</span>
											<button class="btn btn-outline-primary" (click)="hideme[k] = !hideme[k]">
												{{recon.CodesReviewer2[k-1].Name}}
											</button>
											<br />
										</span>
									</span>
								</span>
							</span>
						</td>
						<td *ngIf="CurrentComparison.contactName3 != ''">
							<span *ngIf="!recon.IsCompleted">
								<button (click)="Complete(recon, CurrentComparison.contactId3)" class="btn btn-success pull-right">
									Complete
								</button>
							</span>
							<span *ngFor="let l of reconcilingCodeArrayLength(recon.CodesReviewer3.length)">
								<br />
								<span [hidden]="!hideme[z]">
									<span *ngFor="let item of getReconSplitArray(recon.CodesReviewer3[l-1].Fullpath)">
										{{item}}
										<i class="fa fa-arrow-right"
										   aria-hidden="true">
										</i>
									</span>
									<br />
								</span>
								<button *ngIf="recon.CodesReviewer3[l-1].ArmID == 0" class="btn btn-outline-dark">
									{{recon.CodesReviewer3[l-1].Name}}
								</button>
							</span>
							<br />
							<span *ngIf="_ItemListService.ItemList.items[i].arms != 'undefined' && _ItemListService.ItemList.items[i].arms.length > 0 ">
								<span *ngFor="let c of _ItemListService.ItemList.items[i].arms">
									<b>{{c.title}}</b>

									<span *ngFor="let z of reconcilingCodeArrayLength(recon.CodesReviewer3.length)">
										<span class="row"  *ngIf="recon.CodesReviewer3[z-1].ArmID != 0">
											<span [hidden]="!hideme[z]">
												<span *ngFor="let item of getReconSplitArray(recon.CodesReviewer3[z-1].Fullpath)">
													{{item}}
													<i class="fa fa-arrow-right"
													   aria-hidden="true">
													</i>
												</span>
												<br />
											</span>
											<button class="btn btn-outline-primary" (click)="hideme[z] = !hideme[z]">
												{{recon.CodesReviewer3[z-1].Name}}
											</button>
											<br />
										</span>
									</span>
								</span>
							</span>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div *ngIf="panelItem" class="col-12 row p-2 m-2">
			<div class="col-5 row">
				<div class="row col-12 border-top   ml-0 pl-0">
					<div class="row w-100 p-0 m-0 border-bottom">
						<div class="p-1 ml-1 mt-1 font-weight-bold">
							Title
						</div>
						<div class="col p-1 m-1 bg-white">
							{{panelItem.title}}
						</div>
					</div>

					<div class="row w-100 p-0 m-0 border-bottom">
						<div class="p-1 ml-1 mt-1 font-weight-bold">
							Author(s)
						</div>
						<div class="col p-1 m-1 bg-white">
							{{panelItem.authors}}
						</div>
					</div>
					<div class="row w-100 p-0 m-0 border-bottom ">
						<div class="col-4 row p-0 m-0">
							<div class="p-1 ml-1 mt-1 font-weight-bold">ID</div>
							<div class="col p-1 m-1 bg-white">{{panelItem.itemId}}</div>
						</div>
					</div>
					<div class="row w-100 p-0 m-0 border-bottom  ">
						<div class="w-50 row p-0 m-0">
							<div class="p-1 ml-1 mt-1 font-weight-bold">Year</div>
							<div class="col p-1 m-1 bg-white">
								{{panelItem.year}}
							</div>
						</div>
					</div>
					<div class="row w-100 p-0 m-0 border-bottom  ">
						<div class="w-50 row p-0 m-0">
							<div class="p-1 ml-1 mt-1 font-weight-bold">Short Title</div>
							<div class="col p-1 m-1 bg-white">
								{{panelItem.shortTitle}}
							</div>
						</div>
						<div class="w-50 row p-0 m-0">
							<div class="p-1 ml-1 mt-1 font-weight-bold">Pages</div>
							<div class="col p-1 m-1 bg-white">
								{{panelItem.pages}}
							</div>
						</div>
					</div>
				</div>
				<div *ngIf="panelItem" class="row col-12 card card-body bg-light p-2 m-2"
					 style="overflow-x:auto;">
					<ItemDocListComp class="" [itemID]="panelItem.itemId" [showUpload]="false">
					</ItemDocListComp>
				</div>
			</div>
			<div class="col-5 row">
				<div class="row col-12 border-top   ml-0 pl-0">
					<b>Abstract:&nbsp;</b>
					{{panelItem.abstract}}
				</div>
			</div>
		</div>
	</form>
</div>
 