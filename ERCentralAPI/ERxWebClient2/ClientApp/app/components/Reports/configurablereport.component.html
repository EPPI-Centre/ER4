<div class="container px-1 col-12 fullBordersInTabs">
	<div *ngIf="IsServiceBusy" class="k-loading-image" style="position: fixed; top: 0%;"></div>
	<div style="min-width:190px;">
		<div class="row col-12">
			<label class="col-1 pl-0">Items:</label>
			<select class="col-5 form-control mb-1"
					[(ngModel)]="ReportCommonParams.itemsChoice"
					(change)="ItemsChoiceChange()">
				<option>All selected items</option>
				<option>All included items</option>
				<option>Items with this code</option>
			</select>
		</div>
		<div class="row col-md-12 m-0 p-0" *ngIf="ShowCodeTree" ngbDropdown style="min-width:190px;">
			<label class="col-12 col-md-1 pl-0">Coding Tool:</label>
			<button ngbDropdownAnchor class="btn btn-outline-primary dropdown-toggle col-3"
					(click)="isCollapsedCodingTool = !isCollapsedCodingTool;
														dropdownBasicCodingTool = false"
					[attr.aria-expanded]="!collapseCodeTreeCodingToolReports"
					aria-controls="collapseCodeTreeCodingToolReports">
				{{DropdownSelectedCodingTool?.name}}
			</button>
			<div class="dropdown-menu col-12 col-md-5 ml-5" id="collapseCodeTreeCodingToolReports"
				 [ngbCollapse]="!isCollapsedCodingTool">
				<codesetSelector [IsMultiSelect]="false"
								 [MaxHeight]="500" #CodingToolTreeReports
								 (selectedNodeInTree)="CloseCodeDropDownCodingTool()"
								 [rootsOnly]="false">
				</codesetSelector>
			</div>
		</div>
		<div class="row col-12">
			<label class="col-12 col-md-1 pl-0">Order by:</label>
			<select class="col-12 col-md-5 form-control mb-1" style="min-width:190px;"
					[(ngModel)]="ReportCommonParams.orderByChoice" (change)="OrderByChoiceChange()">
				<option> Short title</option>
				<option> Title</option>
				<option> Year</option>
				<option> Item Id</option>
				<option> Imported Id</option>
			</select>
		</div>
	</div>
		<div class="font-weight-bold">Reports</div>
		<kendo-tabstrip style="min-height:400px; min-width: 1400px;" (tabSelect)="onTabSelect($event)">
			<kendo-tabstrip-tab [title]="'Standard'" [selected]="true">
				<ng-template kendoTabContent>
					<div *ngIf="sectionShow == 'Standard'">
						<p><b>All Reports: </b></p>
						<div class="row col-12">
							<label class="col-12 col-md-1 pl-0">Report Name:</label>

							<select class="col-12 col-md-5 form-control mb-1" style="min-width:190px;"
									(change)="ChangedReport(item)"
									[(ngModel)]="ReportStandard.report">
								<option></option>
								<option *ngFor="let item of configurablereportServ.Reports"
										[ngValue]="item">
									{{ item.name }}
								</option>
							</select>
						</div>
						<div class="row mt-2 mx-1 border-bottom">
							<div class="row col-12">
								<label class="col-12 col-md-1 pl-0">Display Options:</label>
								<div class="col-12 col-md-2 row mb-1" style="min-width: 400px;">
									<div class="col-12 row">
										<input [disabled]="ReportCommonParams.orderByChoice == 'Item Id'" class="m-1 p-1"
											   type="checkbox" value="true" name="ItemId"
											   [(ngModel)]="ReportStandard.showItemId">ItemId
									</div>
									<div class="col-12 row">
										<input [disabled]="ReportCommonParams.orderByChoice == 'Imported Id'" class="m-1 p-1"
											   type="checkbox" value="false" name="ImportedId"
											   [(ngModel)]="ReportStandard.showOldItemId">ImportedId
									</div>
									<div class="col-12 row">
										<input [disabled]="ReportCommonParams.orderByChoice == 'Short title'" class="m-1 p-1"
											   type="checkbox" value="true" name="ShortTitle"
											   [(ngModel)]="ReportStandard.showShortTitle">Short title
									</div>
									<div class="col-12 row">
										<input [disabled]="ReportCommonParams.orderByChoice == 'Title'" class="m-1 p-1"
											   type="checkbox" value="false" name="Title"
											   [(ngModel)]="ReportStandard.showFullTitle">Title
									</div>
								</div>

								<div class="row col-12 col-md-5">

									<div class="col-1 p-2 m-2"></div>
									<div class="col-12 col-md-6 row mb-1" style="min-width: 400px;">
										<div class="col-12 row">
											<input [disabled]="ReportCommonParams.orderByChoice == 'Year'" class="m-1 p-1" type="checkbox"
												   value="true" name="Year"
												   [(ngModel)]="ReportStandard.showYear">Year
										</div>
										<div class="col-12 row">
											<input class="m-1 p-1" type="checkbox" value="false" name="Abstract"
												   [(ngModel)]="ReportStandard.showAbstract">Abstract
										</div>
										<div class="col-12 row">
											<input class="m-1 p-1" type="checkbox" value="true" name="UncodedItems"
												   [(ngModel)]="ReportStandard.showUncodedItems">Uncoded Items
										</div>
									</div>
								</div>
							</div>


							<div class="col-12 row mb-1 border-bottom">
								<div class="col-2 pl-0">
									Additional Text Tag:
								</div>
								<div class="col-3">
									<input class="m-1 p-1 form-control" type="text" value="[info]"
										   name="AdditionalTextTag" [(ngModel)]="ReportStandard.txtInfoTag">
								</div>
								<div class="col-3">
									<input class="m-1 p-1" type="checkbox" value="false" name="AddBulletstoCodes"
										   [(ngModel)]="ReportStandard.showBullets">Add Bullets to Codes
								</div>
							</div>
							<div class="col-12 col-md-1"></div>
							<div class="col-12 col-md-5 row mb-1" style="min-width:190px;">
								Alignment:
								<input class="m-1 p-1" type="radio" [value]="true" name="Alignment"
									   [(ngModel)]="ReportStandard.isHorizontal">Horizontal
								<input class="m-1 p-1" type="radio" [value]="false" name="Alignment"
									   [(ngModel)]="ReportStandard.isHorizontal">Vertical
							</div>
						</div>
					</div>
				</ng-template>
			</kendo-tabstrip-tab>
			<kendo-tabstrip-tab [title]="'Risk Of Bias'">
				<ng-template kendoTabContent>
					<p><b>Question Reports: </b></p>
					<div class="row col-12">
						<label class="col-12 col-md-1 pl-0">Report Name:</label>

						<select class="col-12 col-md-5 form-control mb-1" style="min-width:190px;"
								(change)="ChangedReport(item)"
								[(ngModel)]="ReportRiskOfBias.report">
							<option></option>
							<option *ngFor="let item of configurablereportServ.ReportCollectionROB"
									[ngValue]="item">
								{{ item.name }}
							</option>
						</select>
					</div>
					<div class="col-12 row p-0 my-2 mx-1 border-bottom">
						<div class="col-12 col-md-12  row mb-1 border border-dark">
							<div class="col">
								<input [disabled]="true" [hidden]="true"
									   class="m-1 p-1" type="checkbox" name="showRiskOfBias" value="true"
									   [(ngModel)]="ReportRiskOfBias.showRiskOfBias">Show Risk Of Bias Figure
							</div>
							<div class="col-12 col-md-12 " style="min-width:800px;">
								<ul>
									The order of the classification codes in the risk of bias codeset must be:
									<li> Low (1 code only)</li>
									<li> High ( 1 code only)</li>
									<li> Unclear ( 1 or more)</li>
								</ul>
							</div>
							<div class="col-12 col-md-2 row mb-1" style="min-width: 400px;">
								<div class="col-12 row">
									<input [disabled]="ReportCommonParams.orderByChoice == 'Item Id'" class="m-1 p-1"
										   type="checkbox" value="true" name="ItemId"
										   [(ngModel)]="ReportRiskOfBias.showItemId">ItemId
								</div>
								<div class="col-12 row">
									<input [disabled]="ReportCommonParams.orderByChoice == 'Imported Id'" class="m-1 p-1"
										   type="checkbox" value="false" name="ImportedId"
										   [(ngModel)]="ReportRiskOfBias.showOldID">ImportedId
								</div>
								<div class="col-12 row">
									<input [disabled]="ReportCommonParams.orderByChoice == 'Short title'" class="m-1 p-1"
										   type="checkbox" value="true" name="ShortTitle"
										   [(ngModel)]="ReportRiskOfBias.showShortTitle">Short title
								</div>
								<div class="col-12 row">
									<input class="m-1 p-1"
										   type="checkbox" value="false" name="UncodedItems"
										   [(ngModel)]="ReportRiskOfBias.showUncodedItems">Uncoded Items
								</div>
							</div>
						</div>
					</div>
					<div class="col-12 col-md-1"></div>
					<div class="col-12 col-md-5  row mb-1" style="min-width:190px;">

					</div>
				</ng-template>
			</kendo-tabstrip-tab>
			<kendo-tabstrip-tab [title]="'Outcomes'">
				<ng-template kendoTabContent>
					<p><b>Answer Reports: </b></p>
					<div class="row col-12">

						<label class="col-12 col-md-1  pl-0">Report Name:</label>

						<select class="col-12 col-md-5  form-control mb-1" style="min-width:190px;"
								(change)="ChangedReport(item)"
								[(ngModel)]="ReportOutcomes.report">
							<option></option>
							<option *ngFor="let item of configurablereportServ.ReportCollectionOutcomes"
									[ngValue]="item">
								{{ item.name }}
							</option>
						</select>

						<div class="row col-12">
							<div *ngIf="outcomesHidden"
								 class="col-12 row">
								<input [disabled]="true" [hidden]="true"
									   class="m-1 p-1" type="checkbox" value="true" name="Outcomes"
									   [(ngModel)]="ReportOutcomes.showOutcomes">Outcomes
							</div>
						</div>
					</div>
					<div class="row mt-2 mx-1 ">
						<div class="row col-12">

							<div class="col-12 row p-0 my-2 mx-1 border-bottom">
								<div class="col-12 row mb-1 border border-dark">
										<div class="col-12 row">
											<input [disabled]="ReportCommonParams.orderByChoice == 'Item Id'" class="m-1 p-1"
												   type="checkbox" value="true" name="ItemId"
												   [(ngModel)]="ReportOutcomes.showItemId">ItemId
										</div>
										<div class="col-12 row">
											<input [disabled]="ReportCommonParams.orderByChoice == 'Imported Id'" class="m-1 p-1"
												   type="checkbox" value="false" name="ImportedId"
												   [(ngModel)]="ReportOutcomes.showOldItemId">ImportedId
										</div>
									
								</div>
							</div>
						</div>
						<div class="col-12 col-md-1 "></div>
						<div class="col-12 col-md-5  row mb-1" style="min-width:190px;">
						</div>
					</div>
				</ng-template>
			</kendo-tabstrip-tab>
		</kendo-tabstrip>
		<div class="col-12 row p-0 mx-1 justify-content-center" *ngIf="sectionShow == 'Standard'">
			<div class="col-12 col-md-12  m-0 p-0"></div>
			<div class="col-12 col-md-12  m-0 p-0">
				<button type="submit" (click)="RunReports()" class="btn btn-success ml-2 mr-2"
						[disabled]="!CheckOptionsAreCorrectForReports ">
					Run/view
				</button>
				<button (click)="SaveReport()" [disabled]="!GeneratedReport"
						title="Save as Html (Supports opening in Word)"
						type="button" class="btn btn-outline-primary  ml-1 mr-1">
					<i class="fa fa-floppy-o" aria-hidden="true"></i>
				</button>
				<button class="btn btn-outline-secondary ml-1"
						(click)="CloseReportsSection()">
					Cancel
				</button>
			</div>
			<div class="col-8"></div>
		</div>
	</div>


