
<div class="container col-md-12 form p-0 ">
	<p hidden>{{selectedNode?.name}}</p>
	<div *ngIf="ShowOutcomesList" class="col-md-12 row card p-0 m-0">
		<div class="card container-fluid mt-1 bg-light border border-primary rounded m-1 p-1">
			<!--_OutcomesService.outcomesList.outcomesList-->
			<table class="table table-bordered table-responsive-md table-striped text-center">
				<tr>
					<th class="text-center">Outcome Title</th>
					<th class="text-center">Intervention</th>
					<th class="text-center" style="max-width: 10px;">Edit</th>
					<th class="text-center" style="max-width: 10px;">Remove</th>
				</tr>
				<tr *ngFor="let outcome of outcomeItemList.outcomesList; let key = index">
					<td style="width: 150px;">{{outcome.title}}</td>
					<td style="width: 150px;">{{outcome.intervention}}</td>
					<td style="width: 15px; white-space:nowrap;">
						<span class="table-remove">
							<button (click)="setOutcome(outcome, key)"
									[disabled]="!HasWriteRights"
									type="button" rounded="true"
									size="sm" class="btn btn-outline-info p-1 m-1">
								Edit
							</button>
						</span>
					</td>
					<td style="width: 15px; white-space:nowrap;">
						<span class="table-remove">
							<button type="button" rounded="true"
									size="sm" class="btn btn-outline-danger p-1 m-1"
									[disabled]="!HasWriteRights" (click)="removeWarning(outcome)">
								Remove
							</button>
						</span>
					</td>
				</tr>
			</table>
			<button class="btn btn-primary mt-1 p-1 m-1 col-md-2"
					(click)="CreateNewOutcome()">
				New Outcome
			</button>
			<button class="btn btn-danger mt-1 p-1 m-1 col-md-2"
					(click)="ClearAndCancelEdit()">
				Cancel
			</button>

		</div>
	</div>
	<div *ngIf="ShowOutcomesStatistics && outcome != null" class="col-md-12 row card p-0 m-0">
		<div class="card container-fluid mt-1 bg-light border border-primary rounded m-1 p-1">
			<div class=" col-md-12 small">
				<div class="row col-md-12">
					<div class="col-md-6 row form-field">
						<label class="col-md-3">Title</label>
						<input #titleModel="ngModel" placeholder="Title"
							   required minlength="3"
							   value="currentOutcome.title"
							   pattern="^(?!\s*$).+"
							   [(ngModel)]="currentOutcome.title"
							   type="text" class="form-control col-md-8 form-input" />
					</div>
					<div class="col-md-6 row ">
						<label class="col-md-3">Timepoint</label>
						<div class="d-inline-block col-md-8">
							<select #timePoint [(ngModel)]="timePointModel"
									class="form-control col-md-12">
								<option [ngValue]="timepoint" [selected]="timepoint.key == timePointModel.key"
										*ngFor="let timepoint of timePointsList">
									{{timepoint.timepointValue}} &nbsp; {{timepoint.timepointMetric}}
								</option>
							</select>
						</div>
					</div>
				</div> 
				<div class="row col-md-12  p-1 m-1">
					<label class="col-md-2">Outcome Description</label>
					<input #outcomeDescriptionModel="ngModel"
						   required minlength="3"
						   value="currentOutcome.outcomeDescription"
						   pattern="^(?!\s*$).+"
						   [(ngModel)]="currentOutcome.outcomeDescription"
						   type="text" class="form-control col-md-8  form-input" />
				</div>
				<div class="row col-md-12">
						<div class="col-md-6 row">
							<label class="col-md-3">Outcome type</label>
							<div ngbDropdown class="d-inline-block col-12 col-sm-6 col-md-8">
								<select #outcomeType [(ngModel)]="outcomeTypeModel"
										class="form-control col-md-12">
									<option [ngValue]="outcomeT" [selected]="outcomeT == outcomeTypeModel"
											*ngFor="let outcomeT of OutcomeTypeList">
										{{outcomeT}}
									</option>
								</select>
							</div>
						</div>
						<div class="col-md-6 row">
							<label class="col-md-3">Outcome</label>
							<div ngbDropdown class="d-inline-block col-12 col-sm-6 col-md-8" placeholder="Outcomes">
								<select #outcomeDD [(ngModel)]="outcomeDDModel"
										class="form-control col-md-12">
									<option [ngValue]="out" [selected]="out == outcomeDDModel"
											*ngFor="let out of _OutcomesService.ReviewSetOutcomeList">
										{{out.attributeName}}
									</option>
								</select>
							</div>
						</div>
					</div>
					<div class="row col-md-12">
						<div class="col-md-6 row">
							<label class="col-md-3">Intervention</label>
							<div ngbDropdown class="d-inline-block col-12 col-sm-6 col-md-8">
								<select #interventionDD="ngModel" [(ngModel)]="interventionDDModel"
										class="form-control col-md-12">
									<option [ngValue]="intervention" [selected]="intervention == interventionDDModel"
											*ngFor="let intervention of _OutcomesService.ReviewSetInterventionList">
										{{intervention.attributeName}}
									</option>
								</select>
							</div>
						</div>
						<div class="col-md-6 row">
							<label class="col-md-3">Comparison</label>
							<div ngbDropdown class="d-inline-block col-12 col-sm-6 col-md-8">
								<select #controlDD="ngModel" [(ngModel)]="controlDDModel"
										class="form-control col-md-12">
									<option [ngValue]="control" [selected]="control == controlDDModel"
											*ngFor="let control of _OutcomesService.ReviewSetControlList">
										{{control.attributeName}}
									</option>
								</select>
							</div>
						</div>
					</div>
					<div class="row col-md-12">
						<div class="col-md-6 row">
							<label class="col-md-3">Group 1 arm</label>
							<div ngbDropdown class="d-inline-block col-12 col-sm-6 col-md-8">
								<select #GroupOneArm [(ngModel)]="GroupOneArmModel"
										class="form-control col-md-12">
									<option value="" selected="selected">Group 1 arm</option>
									<option [ngValue]="arm" [selected]="arm == GroupOneArmModel"
											*ngFor="let arm of armsList">
										{{arm.title}}
									</option>
								</select>
							</div>
						</div>
						<div class="col-md-6 row">
							<label class="col-md-3">Group 2 arm</label>
							<div ngbDropdown class="d-inline-block col-12 col-sm-6 col-md-8">
								<select #GroupTwoArm [(ngModel)]="GroupTwoArmModel"
										class="form-control col-md-12">
									<option value="" selected="selected">Group 2 arm</option>
									<option [ngValue]="arm" [selected]="arm == GroupTwoArmModel"
											*ngFor="let arm of armsList">
										{{arm.title}}
									</option>
								</select>
							</div>
						</div>
					</div>
					<div class="row col-md-12 p-1 m-1">

						<label class="col-md-1">Group 1 N</label>
						<input #group1NModel="ngModel"
							   [(ngModel)]="group1N"
							   value="group1N"
							   type="text" class="form-control col-md-2" />

						<label class="col-md-1">Group 2 N</label>
						<input #group2NModel="ngModel"
							   [(ngModel)]="group2N"
							   value="group2N"
							   type="text" class="form-control col-md-2" />


						<label class="col-md-1">Group 1 mean</label>
						<input #group1MeanModel="ngModel"
							   [(ngModel)]="group1Mean"
							   value="group1Mean"
							   type="text" class="form-control col-md-2" />

						<label class="col-md-1">Group 2 mean</label>
						<input #group2MeanModel="ngModel"
							   [(ngModel)]="group2Mean"
							   value="group2Mean"
							   type="text" class="form-control col-md-2" />

						<label class="col-md-1">Group 1 SD</label>
						<input #group1SDModel="ngModel"
							   [(ngModel)]="group1SD"
							   value="group1SD"
							   type="text" class="form-control col-md-2" />

						<label class="col-md-1">Group 2 SD</label>
						<input #group2SDModel="ngModel"
							   [(ngModel)]="group2SD"
							   value="group2SD"
							   type="text" class="form-control col-md-2" />

						<label class="col-md-1">SMD</label>
						<p class="col-md-2">4356.436</p>
						<label class="col-md-1 text-capitalize">SE</label>
						<p class="col-md-2">NaN</p>
					</div>
				</div>
				<div class="row col-md-12">
					<button class="btn btn-sm btn-primary mt-1 p-1 m-1 col-md-2"
							(click)="SaveOutcome()">
						Save Outcome
					</button>
					<button class="btn btn-sm btn-danger mt-1 p-1 m-1 col-md-2"
							(click)="ClearAndCancelSave()">
						Cancel
					</button>
				</div>
			</div>
		</div>
</div>

