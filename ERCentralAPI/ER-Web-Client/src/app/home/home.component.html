<div class="h-100">
  <div class="row m-0 d-flex justify-content-center border-bottom border-primary">
    &nbsp;
  </div>
  <div class="bg-white mx-1">
    <div class="d-flex w-100 mx-1 mt-0 mb-0 py-2 justify-content-center  ">
      <div class="w-100 row p-1 mx-0 ">
        <div class="col-8 mx-0 p-1">
          <div style="max-width:460px;">
            <img src="assets/Images/EPPI Reviewer - Logo Big.png" class="img-fluid mr-4 " alt="EPPI Reviewer Web logo" />
          </div>
        </div>
        <div class="col-4 mx-0 p-1">
          <div class="float-right d-flex mr-2 h-100" style="max-width:340px;">
            <a href="https://eppi.ioe.ac.uk/cms" target="_blank" class=" my-auto">
              <img src="assets/Images/EPPILogo2021.png" class="mr-2 img-fluid" alt="EPPI Centre logo" />
            </a>
          </div>
        </div>
      </div>

      <!--<h3 class="justify-center m-1 ">EPPI-Reviewer <span class="font-italic font-weight-bold text-danger" style="font-family: 'Times New Roman'; font-size:1.1em;">Web</span></h3><br />-->
    </div>
  </div>
  <form #f="ngForm" (ngSubmit)="onLogin(c_name.value, c_password.value)">
    <div class="row mx-1 mt-0 mb-0 d-flex justify-content-center bg-white">
      <div class="col-12 col-md-7 justify-content-center d-flex px-0">
        <div class="form-horizontal w-100" role="form">

          <div class="form-group row m-0 p-1">
            <label class="col-auto control-label text-left text-sm-right px-1 my-auto" for="tbTFullNameReg" style="width:6em;">Username:</label>
            <div class="col w-100">
              <input #c_name name="username" required class="form-control" ngModel>
            </div>
            <div *ngIf="ShowUsernameRequired" class="col-12 col-sm-3 m-0 p-1">
              <div class="badge badge-warning ml-1 pt-1 "><span class="ml-1 mt-1 mr-1">Username Required!</span></div>
            </div>
          </div>
          <div class="form-group row m-1 p-0">
            <label class="col-auto control-label text-left text-sm-right px-1 my-auto" for="tbTFullNameReg" style="width:6em;">Password:</label>
            <div class="col w-100">
              <input #c_password type="password" required class="form-control" name="password" ngModel>
            </div>
            <div *ngIf="ShowPasswordRequired" class="col-12 col-sm-3 m-0 p-1">
              <div class="badge badge-warning ml-1 pt-1 mx-1 pt-1 text-wrap"><span class="ml-1 mt-1 mr-1">Password Required (or too short)</span></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mx-1 mt-0 mb-0 d-flex justify-content-center bg-white border-bottom border-primary">
      <div class="col-auto col-sm-1"></div>
      <div class="col-12 col-sm-3 justify-content-center justify-content-sm-end d-flex px-1">
        <div *ngIf="ShowLoginFailed" class="badge badge-warning ml-1 pt-1 my-auto"><span class="ml-2 mt-1 mr-2">Login Failed!</span></div>
        <input type="submit" value="Login" class="btn btn-primary m-1 px-3" [disabled]="IsBusy" />

        <div style="min-width:22px;" class="my-auto">
          <fa-icon *ngIf="IsBusy" [icon]="faSpinner" [spin]="true" class="text-success mt-1 my-auto"></fa-icon>
        </div>
      </div>
      <div class="col-6 col-sm-4 text-center align-self-center px-0">
        <a class="mx-1 my-auto" href="http://eppi.ioe.ac.uk/cms/Default.aspx?tabid=2935" target="_blank">Forgot Password?</a>
      </div>
      <div class="col-6 col-sm-3 text-left  align-self-center px-1">
        <a class="mx-1 my-auto" href="http://eppi.ioe.ac.uk/cms/Default.aspx?tabid=2935" target="_blank">Create Account</a>
      </div>
      <div class="col-auto col-sm-1"></div>
    </div>
  </form>
  <div class="row mx-1 mt-0 mb-0 p-0 d-flex p-0 justify-content-center bg-light border-bottom border-primary">
    <div class="col-12 col-sm-10 py-0 px-1">
      <div class="text-center my-2">

        Visit the <a class="text-center font-weight-bold" href="https://eppi.ioe.ac.uk/cms/er4" target="_blank">
          EPPI-Reviewer Gateway
        </a><br />
        for Account and Review Management, Documentation, Support and the RIS export utility.
      </div>
    </div>
    <div class="col-12 col-sm-auto mt-2 mb-1 mx-0 p-1 float-right d-flex d-sm-block justify-content-center ">
      <div class="col-auto col-sm-12 px-0"><a href="https://twitter.com/EPPIReviewer" target="_blank"><img src="assets/FollowUs.png" alt="follow us on Twitter image" /></a></div>
      <div class="col-auto col-sm-12 px-1">on <a href="https://twitter.com/EPPIReviewer" target="_blank">Twitter</a></div>
    </div>
    <!--<div class=" mt-4 ml-1 p-0 container text-center"><a class="text-danger font-weight-bold justify-center" href="https://eppi.ioe.ac.uk/cms/Default.aspx?tabid=3061" target="_blank">EPPI-Reviewer 4 How-To videos</a></div>-->
  </div>
  <div class="row mx-1 mt-2 mb-2 d-flex justify-content-center bg-white border-top border-bottom border-primary">
    <div class="p-1">
      <img src="assets/Images/cochrane_logo.png" width="30" height="30" class="mr-1" alt="Cochrane logo" />
      <span class="mt-1 ml-1"><b style="color:#002d64">For Cochrane/Campbell Authors:</b> click</span><button class="btn btn-sm btn-outline-primary px-1 py-0 m-1" (click)="GoToArchie()">HERE</button> <span class="mt-1">to login with your Cochrane account.</span>
      <button class="btn btn-sm btn-outline-info px-1 py-0 m-1" (click)="showCochraneHelp = !showCochraneHelp">More info...</button>
    </div>
    <div *ngIf="showCochraneHelp" class="col-11 justify-center border border-info rounded alert-info mb-1">
      <p class="mb-1">
        This link allows <b>Cochrane and Campbell Authors</b> to log into EPPI-Reviewer with their Cochrane Account details.<br />
        Within EPPI-Reviewer, Cochrane Authors are automatically licensed to:
      </p>
      <ol class="small">
        <li>Work on Cochrane reviews (access control is controlled by review authorship state as defined in Archie).</li>
        <li>Work on private (not shared) reviews.</li>
        <li>Work on "Prospective" Cochrane reviews (preliminary work, before registering a review in Archie). To gain access to this option please get in touch with EPPI-Support. </li>
      </ol>
      <p>
        More details, including guidance, are <a href="https://community.cochrane.org/help/tools-and-software/eppi-reviewer" target="_blank">here</a>.
      </p>

    </div>
  </div>

  <div class="row mx-1 px-2 d-flex justify-content-center border-top border-bottom border-primary" style="background-color:#A7D9F3;">
    <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 font-weight-bold p-0 m-0">
      Latest Changes: <fa-icon *ngIf="IsGettingVersionInfo" [icon]="faSpinner" [spin]="true" class="text-success mt-1 my-auto"></fa-icon>
    </div>
    <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 p-0 m-0">
      Version: {{vInfo.versionN}}
    </div>
    <div class="col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 p-0 m-0">
      {{FormatDate(vInfo.date)}}
    </div>
  </div>
  <div *ngIf="!HasConnectionError; else ConnErr" class="row d-flex mx-1 mt-0 mb-0 justify-content-center bg-light border-top border-bottom border-primary" style="background-color:#A7D9F3;">
    <div *ngIf="!versionIsNew; else Newmsg" class="col-md-12 px-1 m-1">
      {{vInfo.description}}
    </div>
    <div *ngIf="vInfo.url != ''" class="col-md-12 justify-content-end">
      <a href="{{vInfo.url}}" target="_blank">Read More...</a>
    </div>
  </div>
  <ng-template #Newmsg>
    <div class="col-md-12 px-1 m-2">
      <div style="animation: glowingText 1.4s infinite; " class="rounded py-1 px-2">{{vInfo.description}}</div>
    </div>
  </ng-template>
  <ng-template #ConnErr>
    <div class="row d-flex mx-1 mt-0 mb-0 justify-content-center bg-light border-top border-bottom border-primary" style="background-color:#A7D9F3;">
      <div class="col-12 px-1 m-1">
        <div class="alert alert-warning">
          <b>Error:</b> could not retrieve the data about the latest release.<br />
          This usually indicates a connection issue that might stop you from logging in. Please check your internet connection.<br />
          Please also check our Twitter feed as it's the channel we use to communicate any unexpected problems/downtime at our end.
        </div>
      </div>
    </div>
  </ng-template>

  <div class="row mx-1 mt-0 mb-0 d-flex justify-content-center bg-light align-bottom">
    &nbsp;
  </div>
</div>
