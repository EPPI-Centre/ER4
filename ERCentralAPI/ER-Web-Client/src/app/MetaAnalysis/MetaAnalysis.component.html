<HeaderComponent PageTitle="Meta-Analysis" Context="metaanalysis"></HeaderComponent>
<div *ngIf="IsServiceBusy"
     class="k-loading-image" style="position: fixed; top: 0%; z-index:300">
</div>
<button class="page-link pt-0 pb-1 mb-1 rounded float-right" style="position:absolute; right: 0; z-index:2000;" (click)="BackHome()">
  Close/back
</button>
<div class="container col-12 row mx-0 mt-0 mb-1 p-0 ">
  <div class=" rounded border border-primary mx-1 p-2 bg-light w-100">
    <button class=" btn btn-outline-success">New MA</button>
    <button class=" btn btn-outline-primary" (click)="TopIsExpanded = !TopIsExpanded">{{ExpandCollapseTopTxt}}</button>
  </div>

  <div [ngClass]="{'show':TopIsExpanded, 'hide': !TopIsExpanded}" class="HideAnim rounded mx-1 p-2 bg-light w-100">
    <div class="row mx-0 px-0" style="max-height: 60vh; overflow:auto;">
      <table class="table table-bordered table-sm col-12">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Type</th>
          </tr>
        </thead>
        <tr *ngFor="let ma of MaList">
          <td>{{ma.metaAnalysisId}}</td>
          <td>{{ma.title}}</td>
          <td>{{ma.metaAnalysisTypeTitle}}</td>
          <td><button class="btn btn-outline-success btn-sm" (click)="EditMA(ma)">Edit/Run</button></td>
        </tr>
      </table>

    </div>
  </div>

  <MetaAnalysisDetailsComp *ngIf="CurrentMA != null && BottomIsExpanded" class="mt-1 w-100"></MetaAnalysisDetailsComp>
</div>

<statusbar class="row card p-0 ml-1 mr-1 mt-1 mb-2 card-body" resizable></statusbar>
